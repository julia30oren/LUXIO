<!-- <p>{{ shop | json}}</p> -->
<!-- <p>{{ sorted| json}}</p> -->
<div [ngClass]="{Hebrew: langIv}" style="width: 100%;">
    <h5 style="width: 100%;">{{ 'NAVIGATION.STORE.title' | translate }}</h5>

    <div *ngIf="selectedProd" class="selected-prod">
        <div class="inside">
            <div class="img-col">
                <img src={{selectedProd.img_link}} alt={{selectedProd.name}} class="img" />
                <a *ngIf=" selectedProd.prod_class==='Luxio' " class="img-link " href="https://www.instagram.com/explore/tags/{{selectedProd.prod_class}}_{{selectedProd.name}}/ " target="_blank ">
                    {{ 'PROD_DESCRIPTION.more-img' | translate }}
                </a>
            </div>
            <div class="txt-col ">
                <p *ngIf="selectedProd.prod_class==='Luxio' "><small>&#8470;</small>{{selectedProd.burcode_id}}</p>
                <h4>{{selectedProd.prod_class}} {{selectedProd.name}}</h4>
                <br>
                <p> {{selectedProd.price}} &#8362;</p>
                <p>
                    <button type="button" class="button " (click)="less(selectedProd.burcode_id) ">-</button> 1
                    <button type="button" class="button " (click)="more(selectedProd.burcode_id) ">+</button>
                    <button type="button" (click)="addToCart(selectedProd._id)">{{'PROD_DESCRIPTION.add_to_cart' | translate}}</button>
                    <button type="button" (click)="addToFavorites(selectedProd._id)">{{'PROD_DESCRIPTION.add_to_favorites' | translate}}</button>
                </p>
                <!-- LUXIO option -->
                <div *ngIf="selectedProd.prod_class==='Luxio' ">
                    <p>{{ 'PROD_DESCRIPTION.LUXIO.main' | translate }}</p>
                    <ul>
                        <li>{{ 'PROD_DESCRIPTION.LUXIO.list-1' | translate }}</li>
                        <li>{{ 'PROD_DESCRIPTION.LUXIO.list-2' | translate }}</li>
                        <li>{{ 'PROD_DESCRIPTION.LUXIO.list-3' | translate }}</li>
                        <li>{{ 'PROD_DESCRIPTION.LUXIO.list-4' | translate }}</li>
                    </ul>
                </div>
                <!-- <div *ngIf="selectedProd.coment_eng.length>2"> vfvrvrt
            </div> -->
                <p> {{ 'PROD_DESCRIPTION.ps' | translate }}</p>

            </div>
            <!-- <p>{{selectedProd | json}}</p> -->
            <div><button type="button" (click)="closeSelected()" class="close-button"><i class="fas fa-times fa-2x"></i></button></div>
        </div>

    </div>


    <!-- SORT -->
    <div class="sort" *ngIf="!selectedProd">
        <form>
            <div class="form-row">
                <div>
                    <button type="submit" class="btn btn-outline-dark" (click)="getAll()">
                        {{ 'SEARCH.all-button' | translate }}
                    </button>
                </div>
                <div>
                    <select class="custom-select" #prod_class>
                    <option value='' selected>{{ 'SEARCH.not-selected' | translate }}</option>
                    <option value="basics">{{ 'SEARCH.OPTIONS.basics' | translate }}</option>
                    <option value="Luxio">{{ 'SEARCH.OPTIONS.Luxio' | translate }}</option>
                    <option value="Options">{{ 'SEARCH.OPTIONS.Options' | translate }}</option>
                    <option value="Gel Play">{{ 'SEARCH.OPTIONS.Gel-Play' | translate }}</option>
                    <option value="Hard GEL">{{ 'SEARCH.OPTIONS.Hard-GEL' | translate }}</option>
                    <option value="materials">{{ 'SEARCH.OPTIONS.materials' | translate }}</option>
                    <option value="accessories">{{ 'SEARCH.OPTIONS.accessories' | translate }}</option>
            </select>
                </div>
                <div>
                    <select class="custom-select" #color>
                    <option value='' selected>{{ 'SEARCH.not-selected' | translate }}</option>
                    <option value='white'>{{ 'SEARCH.OPTIONS.white' | translate }}</option>
                    <option value='black'>{{ 'SEARCH.OPTIONS.black' | translate }}</option>
                    <option value='pink'>{{ 'SEARCH.OPTIONS.pink' | translate }}</option>
                    <option value='red'>{{ 'SEARCH.OPTIONS.red' | translate }}</option>
                    <option value='оrange'>{{ 'SEARCH.OPTIONS.оrange' | translate }}</option>
                    <option value='yellow'>{{ 'SEARCH.OPTIONS.yellow' | translate }}</option>
                    <option value='green'>{{ 'SEARCH.OPTIONS.green' | translate }}</option>
                    <option value='blue'>{{ 'SEARCH.OPTIONS.blue' | translate }}</option>
                    <option value='violet'>{{ 'SEARCH.OPTIONS.violet' | translate }}</option>
                    <option value='brown'>{{ 'SEARCH.OPTIONS.brown' | translate }}</option>
                    <option value='gray'>{{ 'SEARCH.OPTIONS.gray' | translate }}</option>
            </select>
                </div>
                <div>
                    <select class="custom-select" #tint>
                    <option value="" selected>{{ 'SEARCH.not-selected' | translate }}</option>
                    <option value='light'>{{ 'SEARCH.OPTIONS.light' | translate }}</option>
                    <option value='dark'>{{ 'SEARCH.OPTIONS.dark' | translate }}</option>
                    <option value='bright'>{{ 'SEARCH.OPTIONS.bright' | translate }}</option>
            </select>
                </div>
                <div>
                    <select class="custom-select" #transparency>
                    <option value="" selected>{{ 'SEARCH.not-selected' | translate }}</option>
                    <option value='see-through'>{{ 'SEARCH.OPTIONS.see-through' | translate }}</option>
                    <option value='dense'>{{ 'SEARCH.OPTIONS.dense' | translate }}</option>
            </select>
                </div>
                <div>
                    <button type="submit" class="btn btn-outline-dark" (click)="getSorted(prod_class.value, color.value, tint.value, transparency.value)">
                        {{ 'SEARCH.sort-button' | translate }}
                    </button>
                </div>
            </div>
        </form>
    </div>
    <!-- SORT styles -->
    <style>
        .sort {
            width: 100%;
            display: flex;
            flex-direction: row;
            justify-content: center;
        }
    </style>

    <div *ngIf="!selectedProd">
        <div class="shopComp" *ngIf="shop && !sorted">
            <div *ngFor="let item of shop" class="card" style="width: 18rem; height: 18rem;" id={{item.burcode_id}}>
                <div class="buttons">
                    <button [ngClass]="getCartClasse(item._id)" (click)="addToCart(item._id)" title="{{'PROD_DESCRIPTION.add_to_cart' | translate}}"><i class="fab fa-shopify fa-3x"></i></button>
                    <button [ngClass]="getClasses(item._id)" (click)="addToFavorites(item._id)" title="{{'PROD_DESCRIPTION.add_to_favorites' | translate}}"><i class="fas fa-heart fa-2x"></i></button>
                    <div *ngIf="item.label" class="lable-new">
                        <p style="margin: auto;">{{item.label}}</p>
                    </div>
                </div>
                <img src={{item.img_link}} class="card-img-top" alt="..." (click)="select(item.burcode_id)" />
                <div class="cardInfo" (click)="select(item.burcode_id)">
                    <h5 style="text-align: right;">{{item.price}} &#8362;</h5>
                    <h5>{{item.prod_class}} {{item.name}}</h5>
                </div>
            </div>
        </div>

        <div class="shopComp" *ngIf="sorted">
            <div *ngFor="let item of sorted" class="card" style="width: 18rem; height: 18rem;" id={{item.burcode_id}}>
                <div class="buttons">
                    <button [ngClass]="getCartClasse(item._id)" (click)="addToCart(item._id)" title="{{'PROD_DESCRIPTION.add_to_cart' | translate}}"><i class="fab fa-shopify fa-3x"></i></button>
                    <button [ngClass]="getClasses(item._id)" (click)="addToFavorites(item._id)" title="{{'PROD_DESCRIPTION.add_to_favorites' | translate}}"><i class="fas fa-heart fa-2x"></i></button>
                    <div *ngIf="item.label" class="lable-new">
                        <p style="margin: auto;">{{item.label}}</p>
                    </div>
                </div>
                <img src={{item.img_link}} class="card-img-top" alt="..." (click)="select(item.burcode_id)" />
                <div class="cardInfo" (click)="select(item.burcode_id)">
                    <h5 style="text-align: right;">{{item.price}} &#8362;</h5>
                    <h5>{{item.prod_class}} {{item.name}}</h5>
                </div>
            </div>
        </div>
    </div>
</div>


<style>
    .Hebrew {
        text-align: right;
        direction: rtl;
    }
    
    .selected-prod {
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0.5));
        position: fixed;
        left: 0;
        top: 0;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    .lable-new {
        min-width: 100px;
        background-color: rgba(250, 119, 222, 0.5);
        position: absolute;
        right: 0;
        top: 10px;
    }
    
    .hart-button,
    .cart-button {
        margin-left: 1%;
        margin-top: 2%;
        border: none;
        background-color: rgba(0, 0, 0, 0);
    }
    
    .active {
        color: green;
    }
    
    .not-active {
        color: rgba(128, 128, 128, 0.5);
    }
    
    .red-hart {
        color: rgb(194, 0, 0);
    }
    
    .red-hart:hover {
        color: rgba(128, 128, 128, 0.5);
    }
    
    .grey-hart {
        color: rgba(128, 128, 128, 0.5);
    }
    
    .grey-hart:hover,
    .cart-button:hover {
        color: rgb(194, 0, 0);
    }
    
    .hart-button:hover {
        color: rgb(194, 0, 0);
    }
    
    .inside {
        margin-left: 15%;
        width: 60%;
        height: 70%;
        display: flex;
        flex-direction: row;
    }
    
    .img-col {
        width: 50%;
        padding: 1%;
    }
    
    .img {
        width: 100%;
    }
    
    .img-link {
        width: 100%;
        margin-left: 47%
    }
    
    .txt-col {
        display: flex;
        flex-direction: column;
        width: 45%;
        padding: 1%;
    }
    
    .close-button {
        color: brown;
        background-color: rgb(0, 0, 0, 0);
        border: none;
    }
    
    .close-button:hover {
        color: red;
    }
    
    .shopComp {
        display: flex;
        flex-wrap: wrap;
        align-content: space-between;
    }
    
    .btn-outline-dark {
        width: auto;
        margin-left: 0;
    }
    
    .card {
        margin: 1%;
        background-color: rgba(0, 0, 0, 0);
    }
    
    .card:hover {
        border: red 2px solid;
        padding: 0.5%;
    }
    
    .cardInfo {
        position: absolute;
        bottom: 10px;
        right: 15px;
        z-index: 1;
    }
    
    .buttons {
        width: 100%;
        position: absolute;
        display: flex;
        justify-content: left;
    }
    
    .card-title {
        position: absolute;
        bottom: 5%;
        right: 23%;
    }
</style>